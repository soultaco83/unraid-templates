<?xml version="1.0"?>
<Container version="2">
  <Name>nhentai_archivist</Name>
  <Repository>ghcr.io/9-fs/nhentai_archivist:latest</Repository>
  <Registry>https://github.com/9-FS/nhentai_archivist/pkgs/container/nhentai_archivist</Registry>
  <Network>bridge</Network>
  <MyIP/>
  <Shell>bash</Shell>
  <Privileged>false</Privileged>
  <Support>https://github.com/9-FS/nhentai_archivist/issues</Support>
  <Project>https://github.com/9-FS/nhentai_archivist</Project>
  <Overview>Unraid template for 9-FS/nhentai_archivist&#xD;
# nhentai_archivist&#xD;
&#xD;
&amp;gt; If you have any questions, please **consult the readme first**.&#xD;
&amp;gt;&#xD;
&amp;gt; I spend a lot of effort to keep the readme up-to-date and chances are high that your problem has already been addressed here. If you still require assistance after reading the readme, post it publicly, preferably as a GitHub issue, so others can benefit from the troubleshooting as well.&#xD;
&#xD;
## Introduction&#xD;
&#xD;
nHentai Archivist is a tool to download hentai from https://nhentai.net and convert them to CBZ files. From quickly downloading a few hentai specified in the console, downloading a few hundred hentai specified in a downloadme.txt, up to automatically keeping a massive self-hosted library up-to-date by automatically generating a downloadme.txt from a search by tag. (For that use-case it has been optimised to tag the CBZ files in a way that Komga in oneshot mode interprets everything correctly.)&#xD;
&#xD;
Why CBZ? CBZ is a widespread standard and basically just a ZIP file containing the images and a metadata file. This enables nHentai Archivist to **keep the tags** which wouldn't be possible with PDF as far as I know.&#xD;
&#xD;
## Installation&#xD;
&#xD;
1. Ensure USER_AGENT is set to your browser's user agent (visit https://www.whatismybrowser.com/detect/ to find it)&#xD;
2. Configure paths and optional settings as needed&#xD;
3. See the full readme for detailed usage instructions&#xD;
&#xD;
## Readme&#xD;
For more detailed and most up-to-date documentation, read the readme of the GitHub repository:&#xD;
https://github.com/9-FS/nhentai_archivist/blob/main/readme.md</Overview>
  <Category>Downloaders: MediaApp:Books</Category>
  <WebUI/>
  <TemplateURL>https://raw.githubusercontent.com/soultaco83/unraid-templates/master/nhentai_archivist/nhentai_archivist.xml</TemplateURL>
  <Icon/>
  <ExtraParams>--memory=1G</ExtraParams>
  <PostArgs/>
  <CPUset/>
  <DonateText/>
  <DonateLink/>
  <Requires/>
  
  <!-- Path Configurations -->
  <Config Name="Library Path" Target="/app/hentai" Default="" Mode="rw" Description="Directory where CBZ files are downloaded. Must match LIBRARY_PATH variable." Type="Path" Display="always" Required="true" Mask="false">/mnt/user/media/hentai</Config>
  <Config Name="Config Directory" Target="/app/config/" Default="" Mode="rw" Description="Directory for configuration files (downloadme.txt, dontdownloadme.txt, .env)" Type="Path" Display="always" Required="true" Mask="false">/mnt/user/appdata/nhentai_archivist/config</Config>
  <Config Name="Database Directory" Target="/app/db/" Default="" Mode="rw" Description="Directory for SQLite database file" Type="Path" Display="always" Required="true" Mask="false">/mnt/user/appdata/nhentai_archivist/db</Config>
  <Config Name="Log Directory" Target="/app/log/" Default="" Mode="rw" Description="Directory for log files" Type="Path" Display="always" Required="false" Mask="false">/mnt/user/appdata/nhentai_archivist/log/</Config>

  <!-- Required Settings -->
  <Config Name="User Agent" Target="USER_AGENT" Default="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36" Mode="" Description="Your browser's user agent string. Visit https://www.whatismybrowser.com/detect/ to find yours. This is required for the application to work." Type="Variable" Display="always" Required="true" Mask="false">Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36</Config>
  
  <!-- Core Settings -->
  <Config Name="Library Path Variable" Target="LIBRARY_PATH" Default="/app/hentai/" Mode="" Description="Must match the container path set above. Directory where temporary images and finished CBZ files are downloaded." Type="Variable" Display="always" Required="false" Mask="false">/app/hentai/</Config>
  <Config Name="Filename Title Type" Target="FILENAME_TITLE_TYPE" Default="English" Mode="" Description="Title type for naming files: English, Japanese, or Pretty. WARNING: Changing after downloads will cause duplicates!" Type="Variable" Display="always" Required="false" Mask="false">English</Config>
  <Config Name="Library Split" Target="LIBRARY_SPLIT" Default="0" Mode="" Description="Split library into subdirectories with max N files each. Recommended 10000 if you have &gt;10,000 files. Set to 0 to disable." Type="Variable" Display="always" Required="false" Mask="false">0</Config>
  
  <!-- File Paths -->
  <Config Name="Downloadme File Path" Target="DOWNLOADME_FILEPATH" Default="/app/config/downloadme.txt" Mode="" Description="Path to file containing nHentai IDs to download (one per line). Takes priority over tag search if file exists." Type="Variable" Display="always" Required="false" Mask="false">/app/config/downloadme.txt</Config>
  <Config Name="Dontdownloadme File Path" Target="DONTDOWNLOADME_FILEPATH" Default="/app/config/dontdownloadme.txt" Mode="" Description="Path to file containing nHentai IDs to explicitly exclude (one per line). Has priority over all other inputs." Type="Variable" Display="always" Required="false" Mask="false">/app/config/dontdownloadme.txt</Config>
  
  <!-- Server Mode Settings -->
  <Config Name="nHentai Tags (Server Mode)" Target="NHENTAI_TAGS" Default="" Mode="" Description="Enables server mode. Search tags to auto-download, e.g. [language:&quot;english&quot;] or [tag:&quot;big breasts&quot;, -tag:&quot;censored&quot;]. Leave empty for client mode. See readme for examples." Type="Variable" Display="always" Required="false" Mask="false"/>
  <Config Name="Sleep Interval" Target="SLEEP_INTERVAL" Default="50000" Mode="" Description="Milliseconds to wait between searches in server mode. Minimum recommended: 50000 (50 seconds)." Type="Variable" Display="always" Required="false" Mask="false">50000</Config>
  
  <!-- Advanced Settings -->
  <Config Name="Cleanup Temporary Files" Target="CLEANUP_TEMPORARY_FILES" Default="true" Mode="" Description="Delete temporary image directory after CBZ creation. Set false to keep original images and ComicBook.xml for deduplication software." Type="Variable" Display="advanced" Required="false" Mask="false">true</Config>
  <Config Name="Download Workers" Target="DOWNLOAD_WORKERS" Default="5" Mode="" Description="Number of parallel download workers. Default 5 is usually optimal. Set to 10 if using CIRCUMVENT_LOAD_BALANCER." Type="Variable" Display="advanced" Required="false" Mask="false">5</Config>
  <Config Name="Circumvent Load Balancer" Target="CIRCUMVENT_LOAD_BALANCER" Default="false" Mode="" Description="Use random media servers directly instead of i.nhentai.net load balancer. Only enable if load balancer is broken." Type="Variable" Display="advanced" Required="false" Mask="false">false</Config>
  <Config Name="Debug Mode" Target="DEBUG" Default="false" Mode="" Description="Enable detailed debug logging. Useful for troubleshooting download issues." Type="Variable" Display="advanced" Required="false" Mask="false">false</Config>
  
  <!-- System Settings -->
  <Config Name="Time Zone" Target="TZ" Default="UTC" Mode="" Description="Container timezone, e.g. America/New_York" Type="Variable" Display="advanced" Required="false" Mask="false">UTC</Config>
  <Config Name="PUID" Target="PUID" Default="99" Mode="" Description="User ID for file permissions" Type="Variable" Display="advanced" Required="false" Mask="false">99</Config>
  <Config Name="PGID" Target="PGID" Default="100" Mode="" Description="Group ID for file permissions" Type="Variable" Display="advanced" Required="false" Mask="false">100</Config>
  <Config Name="UMASK" Target="UMASK" Default="000" Mode="" Description="File creation mask" Type="Variable" Display="advanced" Required="false" Mask="false">000</Config>
</Container>